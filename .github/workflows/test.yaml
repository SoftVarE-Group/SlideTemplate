name: Tests
"on":
  push:
    branches: [ main, master, release, l3-tests]
  pull_request:
    types: [opened, synchronize]
  workflow_call:

jobs:
  build-pdfs:
    runs-on: ubuntu-latest
    container:
      image: danteev/texlive:latest
    steps:
      - name: Checkout git repository
        uses: actions/checkout@v3
      - name: 📄 Run Tests
        run: l3build check
      - name: ⬆️ Upload Failure Artifacts
        uses: actions/upload-artifact@v3
        if: failure()
        with:
          name: build
          path: |
            build/